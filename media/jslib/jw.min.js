(function(a){window.jw=window.jw||{};if(window.jw.version){return}window.jw={version:"20110921 1.0",ok_text:"确 定",alert_title:"提示",tab:function(d,f,c,b){var e=a(d),g=a(f);e.click(function(j){var h=e.index(this);if(c&&a.isFunction(c)){if(c.call(this,h,j)===false){return false}}e.removeClass("cur");a(this).addClass("cur");g.hide().eq(h).show()});if(e.filter(".cur").size()<1){e.eq(b||0).addClass("cur")}e.filter(".cur").trigger("click")},over:function(c){c=c||"show";var d,b=a("body").height();if(c=="show"){if(a(".jw-over").length){return}d=a('<div class="jw-over" ></div>');a().ready(function(){a(document.body).append(d);a("html").addClass("jw-over-hidden");(typeof a.fn.bgiframe=="function")&&d.bgiframe();d.height(b)})}else{a("html").removeClass("jw-over-hidden");setTimeout(function(){a(".jw-over").remove()},1)}},position_fixed:function(g,f){g=a(g);f=f||window;var c=a.browser.msie&&a.browser.version<=6;var i=g.css("position");var d=a(f).scrollTop();if(!c){if(i!="fixed"){var h=g.offset();g.css({top:(h.top-d),position:"fixed"})}else{g.css({position:"fixed"})}return true}var b=parseInt(g.css("bottom"));var e=parseInt(g.css("top"));if(b){g.css({top:(a(f).height()+d-b-40),position:"absolute"})}else{g.css({top:(d+e-((i=="absolute")?d:0)),position:"absolute"})}a(f).bind("scroll resize",function(){var j=a(f).scrollTop();g.css({top:g.offset().top+j-d});d=j;j=null})},drag:function(j,i,g){var m=a(j),o=i?a(i):m,n,l,d=false,f,p;var c=o.css("position");g=g||window;var e=o.find("iframe"),h=null;m.mousedown(function(b){if(c!="absolute"&&c!="fixed"){o.css("position","absolute")}p=p||o.css("z-index");f=f||o.css("opacity")||1;n=b.clientX;l=b.clientY;d=true;c=o.css("position");m.css("cursor","move");o.css({opacity:f*0.7,"z-index":90000});if(e){setTimeout(function(){var q=e.height();h=("<div class='jw-drag-over' style='position: relative;width:100%;height:"+q+"px;margin-top:-"+q+"px;'></div>");h=e.after(h).next(".jw-drag-over")},1)}return false}).mouseup(k);a(g.document.body).mousemove(function(q){if(d){var b=o.offset();if(c=="fixed"){b={top:b.top-a(g).scrollTop(),left:b.left-a(g).scrollLeft()}}o.css({top:b.top+(q.clientY-l),left:b.left+(q.clientX-n)});n=q.clientX;l=q.clientY}return false}).mouseup(k);function k(b){d=false;m.css("cursor","default");o.css({opacity:f,"z-index":p});h&&h.remove();return false}},dialog:function(u){var q=u||{};u=a.extend({},{width:300,height:100,close:true,drag:true,over:true,fixed:true,id:null,html:null,title:"",iframeScroll:true,iframeFetchTitle:true,zIndex:301,onLoad:function(){},onClose:function(){},onMax:function(){},target:window},q);var g=u.target,F=a(g).width(),k=a(g).height(),c="jw-dialog-"+new Date().getTime(),A,n="top:"+(0.75*k/2+a(g).scrollTop())+"px;left:"+(F/2+a(g).scrollLeft())+"px;width:1px;height:1px",B="<div class='jw-dialog' id='"+c+"' style='"+n+"'><div class='jw-dialog-hd'></div><div class='jw-dialog-bd'></div></div>";n=null;B=a(g.document.body).append(B).find("#"+c);u.over&&this.over();u.fixed&&this.position_fixed(B,g);var h=a(".jw-dialog-bd",B),i=a(".jw-dialog-hd",B),E=false,l=false,m=this,j=i.outerHeight();a(g).resize(function(){F=a(g).width();k=a(g).height()});setTimeout(function(){B.css("z-index",u.zIndex);D(u.width,u.height)},0);if(u.id){h.append(a(u.id).clone(true).show());t()}else{if(u.html!=null){h.append(u.html);t()}}if(u.title!==false){var x="<span><a href='javascript:;' ";A="<table width='100%'><tr><td><div class='jw-title'>"+(u.title||"&nbsp;")+"</div></td><td style='width:55px;text-align:right'><nobr>";u.max!=false&&(A+=x+" class='max'>□</a></span>");u.close!=false&&(A+=x+" class='close'>X&nbsp;</a></span>");A+="</nobr></td></tr></table>";A=i.append(A).find("table")}else{i.remove();j=0}function s(H){u.title!==false&&A.find(".jw-title").text(H)}function D(I,H){((I+"").indexOf("%")>0)&&(I=(F*parseFloat(I)/100));((H+"").indexOf("%")>0)&&(H=(k*parseFloat(H)/100));t(parseInt(I),parseInt(H))}function C(){l=B.css("position")=="fixed";return{top:l?0:a(g).scrollTop(),left:l?0:a(g).scrollLeft()}}function t(I,M){var J=Math.min(Math.max(M||0,u.height,140),k-5-j);var H=Math.min(Math.max(I||0,B.width(),u.width,300,h.width()),F);var L=0.75*(k-J)/2+C().top,K=(F-H)/2+C().left;G(L,K,H,J)}function G(K,I,J,H){if(!J||!H){return}J=Math.min(J,F);H=Math.min(H,k-j);B.animate({top:K,left:I,width:J,height:H+j});if(!u.iframe&&!E){h.css("height","auto")}else{h.animate({height:H})}}function d(I,H){B.animate({top:I,left:H})}var r={},z=0;function v(H){if(H){H.stopPropagation()}m.over("close");if(0===u.onClose()){return false}B.animate({top:k/2+C().top,left:F/2,width:0,height:0},function(){B.remove()});return false}function y(K){if(K){K.stopPropagation()}var J=new Date().getTime();if(J-z<300){return false}z=J;if(E){E=false;G(r.top,r.left,r.width,r.height)}else{E=true;var I=C().top;r={top:B.offset().top-(l?a(g).scrollTop():0),left:B.offset().left,width:B.width(),height:h.height()};G(I,C().left,F,k-j);I=null}var H=A.find(".max");E?H.addClass("maxed"):H.removeClass("maxed");u.onMax();return false}function b(H,I){H=H||1;I=I||1;B.css({top:0.75*(k-I)/2,left:(F-H)/2,width:H,height:I+j});h.height(I)}var w={close:v,setSize:D,setBounds:G,setLocation:d,setTitle:s,setBody:function(H){h.html(H)},dialog:B,bd:h};if(u.rel){h.css("height","auto").empty().load(u.rel,function(){setTimeout(function(){t(h.width(),h.height())},100);setTimeout(function(){u.onLoad.call(w)},150)})}else{if(u.iframe){var p="<iframe class='jw-dialog-ifr iframe' src='"+u.iframe+"' style='width:100%;height:100%;border:0' frameborder=0 "+(u.iframeScroll?"":"scrolling=no")+" ></iframe>";p=h.append(p).find(".iframe");var f=false,e=null;setTimeout(function(){if(f){return}e="<div class='jw-dialog-loading' style='position: relative;width:100%;height:"+u.height+"px;margin-top:-"+u.height+"px;'><div style='margin-top:"+u.height/2+"px'>&nbsp;</div></div>";e=h.append(e).find(".jw-dialog-loading")},100);p.load(function(){f=true;if(e){e.remove();e=null}var K=null,H=0;try{K=a(this).contents();H=a("body",K).html().length}catch(J){}if(K){if(H>0){K.find(".close").click(v).end().find(".max").click(y);a("body",K).bind("close",v);if(u.iframeFetchTitle){var I=K.attr("title");if(I.length){s(I)}}setTimeout(function(){!q.width&&B.width(300);!q.height&&h.height(100);D(K.width(),K.height())},5)}else{D(u.width,u.height)}}else{t()}u.onLoad.call(w)})}else{u.onLoad.call(w)}}if(!u.over){B.click(function(){var H=u.zIndex;a(".jw-dialog",g.document).not(B).each(function(){H=Math.max(H,parseInt(a(this).css("z-index"))+1)});B.css("z-index",H)})}var o=function(){t();B.is(":visible")&&m.over()};a(g).resize(o);B.bind("close",v).find(".close").live("click mousedown",v).end().find(".max").live("click mousedown",y);if(u.close!==false){a(g).keydown(function(H){H.keyCode==27&&v()})}u.drag&&A&&this.drag(A,B,g);return w},msg:function(d,e,b){function c(){var f="<div class='jw-msg'><div class='jw-msg-bd'>"+d+"</div></div>";var g=a(f);g.appendTo("body").css("opacity",0.1).animate({opacity:0.8});jw.position_fixed(g);if(a.isFunction(e)){b=e;e=0}e=e||3000;if(a.isFunction(b)){g.bind("jw-msg-call",b)}if(e>0){setTimeout(function(){g.animate({opacity:0},2000,function(){a(this).remove()}).trigger("jw-msg-call")},e)}}if(a(".jw-msg").size()){a(".jw-msg").animate({width:0,height:0,left:a(window).width()/2},function(){a(this).trigger("jw-msg-call").remove();c()})}else{c()}},processbar:function(g,f){var e=a(g),d=e.find(".jw-pbar-t");if(!d.size()){e.addClass("jw-pbar").html("<div class='jw-pbar-t'>0%</div><div class='jw-pbar-v'>&nbsp;</div>");d=e.find(".jw-pbar-t")}var c=e.find(".jw-pbar-v");function b(h){h=parseInt(Math.min(Math.max(h||0,0),100));d.html(h+"%").width(e.width());c.css("width",h+"%")}b(f);return{val:function(h){if(typeof h=="undefined"){return parseInt(d.text())}else{b(h)}}}}}})(jQuery);(function(b){var a=function(j,e){e=b.extend({},{icon:1,ok:jw.ok_text,onOk:function(){},cancle:null,onCancle:function(){},title:jw.alert_title},e||{});var f=(e.icon+"").split("x"),h=f[0],g=f.length==2?f[1]:1;id="jwalert"+new Date().getTime(),style="background-position:-"+(h-1)*50+"px -"+(g-1)*50+"px;",code="<div class='jw-alert'><div class='icon' style='"+style+"'></div><div class='bd'>"+(j||"")+"</div><div style='clear:both'></div><div class='ft'><input type='button' value='&nbsp;"+e.ok+"&nbsp;' id='"+id+"_ok' />";if(e.cancle!=null){code+="&nbsp;&nbsp;<input type='button' value='&nbsp;"+e.cancle+"&nbsp;' id='"+id+"_cannel' />"}code+="</div></div>";style=h=f=null;var c=b(code),k=null,d=null;function i(l){if(l()===false){return}k.close()}b("#"+id+"_ok",c).click(function(){d&&clearTimeout(d);i(e.onOk)});b("#"+id+"_cannel",c).click(function(){i(e.onCancle)});k=jw.dialog({id:c,max:false,close:false,title:e.title,fixed:true,width:350,over:true});if(e.time){d=setTimeout(function(){i(e.onOk)},e.time)}};b.extend(jw,{alert:a})})(jQuery);